# ZeroMQ使用

## 字符串

- ZMQ不关心发送内容，发送的字符串需要后面追加结束符\0
- 对于C# pytho等自动在字符串后追加\0的，不需要追加结束符
- 对于C语言需要自己在结尾追加结束符
- 字符串需要长度指定并且在发送时没有尾部的结束符

## 请求应答模式 request-reply

- 同步
- 服务端：操作： 先 zmq_recv() 然后 zmq_send()
- 客户端：操作： 先 zmq_send() 然后 zmq_recv()

## 发布订阅模式 publish-subscribe

- 异步
- 服务端：只能发送不能接收
- 客户端：初始化后，需要订阅消息，才能接受到订阅的消息，zmq_setsockopt() ，只能接收不能发送；
- 注意：订阅者永远会丢失发布者发布的第一条消息，即使订阅者先构建 发布者后构建
- 1.订阅者可以订阅多个发布者
- 2.若发布者没有任何连接的订阅者，发布者会丢掉所有的发布的信息
- 3.若订阅者使用TCP；连接消息缓慢，则消息将会在发布者位置排队等待
- 4.从ZeroMQ3.0版本开始，
  - 使用tcp协议或者icp协议时，消息过滤将会在发布者端
  - 使用epgm协议时，消息过滤在订阅者端
  - 对于2.0版本，所有的消息过滤都在订阅者端

## 分治法Dvide and Conquer

- 并行管道

## Words
